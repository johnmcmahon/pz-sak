<!DOCTYPE html>
<html lang="en" ng-app="SAKapp" ng-strict-di>
<head>
    <meta charset="UTF-8">
    <title>WMS Service Info</title>
    <link rel="stylesheet" href="../../css/bootstrap.css">


</head>
<body>

<div ng-controller="WmsController" class="container">
    <div class="row">
        <h1 class="alert alert-info">WMS Service Info</h1>
        <p>Use the following input to query a WMS Service. A successful query will return a list of WMS Layers.</p>
        <p>Example WMS URL: <code>http://geoserver.piazzageo.io/geoserver/ows</code></p>
        <form>
            <div class="row">
                <div class="col-md-5">
                    <div class="form-group">
                        <label for="endPoint">WMS to query</label>
                        <input id="endPoint" type="text" class="form-control" ng-model="endPoint" placeholder="Enter a valid WMS">

                    </div>
                </div>
				<div class="col-md-2">
					<div class="form-group">
						<label for="version">Version</label>
						<select id="version" class="form-control" ng-model="version" disabled="true">
							<option>1.0.0</option>
							<option>1.1.0</option>
							<option>1.1.1</option>
							<option>1.3.0</option>
						</select>
					</div>
				</div>
                <div class="col-md-2">
                    <div class="form-group">
                        <label for="outputFormat">Output</label>
                        <select id="outputFormat" class="form-control" ng-model="outputFormat">
                            <option>JSON</option>
                            <option>GML3</option>
                            <option>GML2</option>
                        </select>
                    </div>
                </div>
                <div class="col-md-1">
                    <br>
                    <button type="button" class="btn btn-primary" ng-click="getCapabilities()">Get Layers</button>
                </div>
                <div class="col-md-1">
                    <br>
                    <button type="button" class="btn btn-primary" ng-click="getCapabilitiesDoc()">Get Capabilities</button>
                </div>
            </div>
            <br>
			

            
			<div class="row" ng-show="showLayerSelect">
                    <div class="col-md-6">
                        <p>Use the select box to choose a layer, and view the associated map.</p>
                    </div>
                </div>
				<div class="row" ng-show="showLayerSelect">
					<div class="col-md-6">
						<label for="layer">Layers</label>
						<select id="layer" ng-change="updateMap()" ng-options="capability.Name for capability in capabilities | orderBy:'Name'" ng-model="selectedLayer" class="form-control">
						</select>
					</div>
	                <div class="col-md-2">
	                    <div class="form-group">
	                        <label for="wmsType">Type</label>
	                        <select id="wmsType" class="form-control" ng-model="layers[0].source.type">
	                            <option>ImageWMS</option>
	                            <option>TileWMS</option>
	                        </select>
	                    </div>
	                </div>

				</div>
			
            <br>

        </form>

        <!-- <h2>Lat: <input type="text" ng-model="center.lat" style="width:300px" /> Lon: <input type="text" ng-model="center.lon" style="width:300px" /> Zoom: <input type="text" ng-model="center.zoom" style="width:50px" /></h2> -->
        <!-- <h2>Lat: <input type="text" ng-model="usa.lat" style="width:300px" /> Lon: <input type="text" ng-model="usa.lon" style="width:300px" /> Zoom: <input type="text" ng-model="usa.zoom" style="width:50px" /></h2> -->
		<div ng-show="selectedLayer">
			<openlayers id="map" ol-center="center" ol-defaults="defaults" height="750px" width="1150px">
				<ol-layer ol-layer-properties="layer" ng-repeat="layer in layers|filter:{active:true}"></ol-layer>
			</openlayers>
			<p>Lat: {{center.lat | number:6}} | Lon: {{center.lon | number:6}} | Zoom: {{center.zoom}}</p>
            <!--<pre>{{center.bounds | json}}</pre>
            <pre>{{selectedLayer | json}}</pre>-->
			<!-- <div id="map" class="map" style="height:800px;width:1200px;"></div> -->
		</div>
    </div>
</div>
</body>
</html>